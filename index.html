<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Erby - Baby Manager</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cream: '#F9F8F4',
                        lavender: '#A594F9',
                        lavenderDark: '#8B78E6',
                        charcoal: '#1F1F1F',
                        softGray: '#F2F2F7',
                        surface: '#FFFFFF',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['DM Serif Display', 'serif'],
                    },
                    boxShadow: {
                        'soft': '0 10px 40px -10px rgba(0,0,0,0.08)',
                        'card': '0 4px 20px rgba(0,0,0,0.03)',
                        'inner-light': 'inset 0 2px 4px 0 rgba(255, 255, 255, 0.3)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'slide-up': 'slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar hide */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        body { -webkit-tap-highlight-color: transparent; }
        
        /* Smooth scrolling for the app container */
        .smooth-scroll { scroll-behavior: smooth; }
    </style>

    <!-- APP LOGIC (Moved to head to ensure definition before Alpine init) -->
    <script>
        function app() {
            return {
                view: 'onboarding', 
                babyName: '',
                logs: [],
                activeTracker: null, 
                
                // Timer
                timerSeconds: 0,
                timerRunning: false,
                timerInterval: null,
                
                // Tracker State
                feedSide: 'Left',
                diaperType: 'wet',

                greeting: '',

                init() {
                    // Load Data
                    const savedData = localStorage.getItem('erbyData');
                    if (savedData) {
                        try {
                            const parsed = JSON.parse(savedData);
                            this.babyName = parsed.babyName || '';
                            this.logs = parsed.logs || [];
                            
                            // If name exists, skip onboarding
                            if (this.babyName) {
                                this.view = 'home';
                            }
                        } catch (e) {
                            console.error("Error loading data", e);
                        }
                    }

                    // Set Greeting
                    const hr = new Date().getHours();
                    if (hr < 12) this.greeting = 'Good Morning';
                    else if (hr < 18) this.greeting = 'Good Afternoon';
                    else this.greeting = 'Good Evening';
                },

                finishOnboarding() {
                    if(!this.babyName.trim()) return;
                    this.saveData();
                    this.view = 'home';
                },

                saveData() {
                    localStorage.setItem('erbyData', JSON.stringify({
                        babyName: this.babyName,
                        logs: this.logs
                    }));
                },
                
                clearData() {
                    if(confirm('Are you sure you want to reset all data? This cannot be undone.')) {
                        localStorage.removeItem('erbyData');
                        this.babyName = '';
                        this.logs = [];
                        this.view = 'onboarding';
                    }
                },

                // Navigation & Tracker
                openTracker(type) {
                    this.activeTracker = type;
                    this.resetTimer();
                    this.diaperType = 'wet'; 
                    this.feedSide = 'Left'; 
                },

                closeTracker() {
                    this.activeTracker = null;
                    this.stopTimer();
                },

                // Timer Logic
                toggleTimer() {
                    if (this.timerRunning) {
                        this.stopTimer();
                    } else {
                        this.startTimer();
                    }
                },

                startTimer() {
                    this.timerRunning = true;
                    this.timerInterval = setInterval(() => {
                        this.timerSeconds++;
                    }, 1000);
                },

                stopTimer() {
                    this.timerRunning = false;
                    clearInterval(this.timerInterval);
                },

                resetTimer() {
                    this.stopTimer();
                    this.timerSeconds = 0;
                },

                formatTimer(seconds) {
                    const h = Math.floor(seconds / 3600);
                    const m = Math.floor((seconds % 3600) / 60);
                    const s = seconds % 60;
                    
                    if(h > 0) {
                        return `${h}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
                    }
                    return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
                },

                saveLog() {
                    let value = '';
                    let subtype = '';

                    // Construct Log Value
                    if (['feeding', 'sleep', 'pump'].includes(this.activeTracker)) {
                        value = this.formatTimer(this.timerSeconds);
                        // If 0 seconds, assume manual quick log (or maybe they forgot to start timer)
                        if (this.timerSeconds === 0) {
                             if(this.activeTracker === 'pump') value = 'Manual';
                             else if(this.activeTracker === 'sleep') value = 'Just now';
                             else value = 'Just now';
                        }
                    }

                    if (this.activeTracker === 'feeding') {
                        subtype = this.feedSide + ' Feed';
                    } else if (this.activeTracker === 'diaper') {
                        subtype = this.diaperType;
                        value = 'Logged';
                    } else {
                        subtype = this.activeTracker;
                    }

                    const newLog = {
                        id: Date.now(),
                        type: this.activeTracker,
                        subtype: subtype,
                        value: value,
                        date: new Date().toISOString()
                    };

                    this.logs.push(newLog);
                    this.saveData();
                    this.closeTracker();
                },

                // Helpers
                getRecentLogs() {
                    return (this.logs || []).slice().reverse().slice(0, 3);
                },

                getLastLogTime(type) {
                    if (!this.logs) return 'No records yet';
                    const typeLogs = this.logs.filter(l => l.type === type);
                    if (typeLogs.length === 0) return 'No records yet';
                    
                    const last = typeLogs[typeLogs.length - 1];
                    const date = new Date(last.date);
                    const now = new Date();
                    
                    const diffMs = now - date;
                    const diffMins = Math.floor(diffMs / 60000);
                    const diffHrs = Math.floor(diffMins / 60);

                    if (diffMins < 60) return `${diffMins}m ago`;
                    if (diffHrs < 24) return `${diffHrs}h ago`;
                    return 'Yesterday';
                },

                getIcon(type) {
                    const map = {
                        'feeding': 'ph-baby-bottle',
                        'sleep': 'ph-moon-stars',
                        'diaper': 'ph-toilet-paper',
                        'pump': 'ph-drop'
                    };
                    return 'ph-fill ' + (map[type] || 'ph-check-circle');
                },

                formatDate(isoString) {
                    const d = new Date(isoString);
                    return d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                },

                formatDateFull(isoString) {
                    const d = new Date(isoString);
                    return d.toLocaleDateString() + ' ' + d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                }
            }
        }
    </script>
    
    <!-- Alpine.js for Logic (Loaded after app definition) -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

</head>
<body class="bg-gray-100 h-screen w-screen flex items-center justify-center font-sans text-charcoal overflow-hidden"
      x-data="app()">

    <!-- MOBILE CONTAINER MOCKUP -->
    <div class="relative w-full h-full max-w-[430px] max-h-[932px] bg-cream sm:rounded-[40px] shadow-2xl overflow-hidden flex flex-col">
        
        <!-- Status Bar Mockup -->
        <div class="h-12 w-full flex justify-between items-center px-6 pt-2 z-50 text-xs font-semibold tracking-wide text-charcoal/80">
            <span>9:41</span>
            <div class="flex gap-1.5 items-center">
                <i class="ph-fill ph-cell-signal-full"></i>
                <i class="ph-fill ph-wifi-high"></i>
                <i class="ph-fill ph-battery-full text-lg"></i>
            </div>
        </div>

        <!-- ==================== ONBOARDING VIEW ==================== -->
        <div x-show="view === 'onboarding'" class="absolute inset-0 z-40 bg-cream flex flex-col p-6 items-center justify-center animate-fade-in"
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0 scale-95"
             x-transition:enter-end="opacity-100 scale-100"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100 scale-100"
             x-transition:leave-end="opacity-0 scale-95">
            
            <!-- Background decorative blobs -->
            <div class="absolute top-1/4 left-0 w-64 h-64 bg-lavender/20 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
            <div class="absolute bottom-1/4 right-0 w-64 h-64 bg-yellow-200/30 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"></div>

            <!-- Stacked Cards Visual -->
            <div class="relative w-full max-w-[280px] h-64 mb-12 flex items-center justify-center">
                <div class="absolute inset-0 bg-white rounded-3xl rotate-6 opacity-40 shadow-lg scale-90"></div>
                <div class="absolute inset-0 bg-white rounded-3xl -rotate-3 opacity-70 shadow-lg scale-95"></div>
                <div class="absolute inset-0 bg-white rounded-3xl rotate-0 shadow-soft flex flex-col items-center justify-center p-6 text-center z-10 animate-slide-up">
                    <div class="w-16 h-16 bg-lavender/20 rounded-full flex items-center justify-center mb-4 text-3xl">üë∂</div>
                    <h2 class="font-serif text-2xl mb-2 text-charcoal">Hello, Parent</h2>
                    <p class="text-gray-500 text-sm leading-relaxed">Let's track your little one's growth and health together.</p>
                </div>
            </div>

            <div class="text-center mb-10 z-10 animate-slide-up" style="animation-delay: 100ms;">
                <h1 class="font-serif text-4xl mb-4 text-charcoal">Erby</h1>
                <p class="text-gray-500">The mindful baby tracker.</p>
            </div>

            <!-- Input for Baby Name -->
            <div class="w-full space-y-4 z-10 animate-slide-up" style="animation-delay: 200ms;">
                <input type="text" x-model="babyName" placeholder="Baby's Name" 
                       class="w-full bg-white/80 backdrop-blur-sm px-6 py-4 rounded-2xl shadow-card outline-none focus:ring-2 focus:ring-lavender/50 text-center text-lg placeholder-gray-400 border border-transparent focus:border-lavender/20 transition-all">
                
                <button @click="finishOnboarding()" 
                        class="w-full bg-charcoal text-white font-medium text-lg py-4 rounded-full shadow-lg hover:scale-[1.02] active:scale-95 transition-transform flex items-center justify-center gap-2">
                    Get Started
                </button>
            </div>
        </div>

        <!-- ==================== MAIN APP (HOME) ==================== -->
        <div x-show="view === 'home' || view === 'stats' || view === 'settings'" class="flex-1 flex flex-col overflow-hidden relative">
            
            <!-- HEADER -->
            <header class="px-6 pt-4 pb-4 flex justify-between items-center z-20 bg-cream/95 backdrop-blur-sm sticky top-0" x-show="view !== 'stats'">
                <div>
                    <p class="text-gray-400 text-xs font-medium tracking-wide uppercase mb-0.5">Today</p>
                    <h2 class="font-serif text-2xl text-charcoal" x-text="greeting + ', ' + (babyName || 'Parent')"></h2>
                </div>
                <div class="w-10 h-10 bg-white rounded-full shadow-card flex items-center justify-center text-gray-600 border border-gray-100">
                    <!-- Profile Picture Placeholder -->
                    <span class="text-sm font-bold bg-lavender/20 text-lavenderDark w-full h-full rounded-full flex items-center justify-center" x-text="(babyName || 'B').charAt(0)"></span>
                </div>
            </header>

            <!-- HOME VIEW CONTENT -->
            <main x-show="view === 'home'" class="flex-1 overflow-y-auto px-6 pb-28 no-scrollbar space-y-6 animate-fade-in">
                
                <!-- Insight Card -->
                <div class="w-full bg-white rounded-[32px] p-6 shadow-soft relative overflow-hidden group border border-white">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-lavender/10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/4"></div>
                    
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex items-center gap-2">
                            <div class="w-7 h-7 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 text-xs font-bold">
                                <i class="ph-fill ph-sparkle"></i>
                            </div>
                            <span class="text-xs font-bold text-gray-400 uppercase tracking-wide">Daily Insight</span>
                        </div>
                        <button class="text-gray-300 hover:text-lavender transition-colors"><i class="ph ph-x"></i></button>
                    </div>
                    
                    <h3 class="font-serif text-2xl leading-tight mb-2 text-charcoal">How are you feeling right now?</h3>
                    <p class="text-sm text-gray-500 mb-6">Tracking your own energy is just as important.</p>

                    <div class="flex gap-2 overflow-x-auto no-scrollbar pb-1">
                        <button class="px-5 py-2.5 bg-gray-50 rounded-full text-sm font-medium text-gray-600 hover:bg-lavender hover:text-white transition-colors active:scale-95">Happy</button>
                        <button class="px-5 py-2.5 bg-gray-50 rounded-full text-sm font-medium text-gray-600 hover:bg-lavender hover:text-white transition-colors active:scale-95">Tired</button>
                        <button class="px-5 py-2.5 bg-gray-50 rounded-full text-sm font-medium text-gray-600 hover:bg-lavender hover:text-white transition-colors active:scale-95">Anxious</button>
                    </div>
                </div>

                <!-- Tracker Grid -->
                <div>
                    <h3 class="font-semibold text-gray-800 mb-4 ml-1 text-sm tracking-wide">TRACK ACTIVITY</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <!-- Feeding -->
                        <button @click="openTracker('feeding')" class="bg-white p-5 rounded-[28px] shadow-card text-left hover:shadow-md transition-all active:scale-[0.98] border border-gray-50 group">
                            <div class="w-12 h-12 bg-blue-50 group-hover:bg-blue-100 rounded-2xl flex items-center justify-center text-blue-500 mb-3 text-2xl transition-colors">
                                <i class="ph-fill ph-baby-bottle"></i>
                            </div>
                            <div class="font-semibold text-charcoal">Feeding</div>
                            <div class="text-xs text-gray-400 mt-1 font-medium" x-text="getLastLogTime('feeding')"></div>
                        </button>

                        <!-- Sleep -->
                        <button @click="openTracker('sleep')" class="bg-white p-5 rounded-[28px] shadow-card text-left hover:shadow-md transition-all active:scale-[0.98] border border-gray-50 group">
                            <div class="w-12 h-12 bg-indigo-50 group-hover:bg-indigo-100 rounded-2xl flex items-center justify-center text-indigo-500 mb-3 text-2xl transition-colors">
                                <i class="ph-fill ph-moon-stars"></i>
                            </div>
                            <div class="font-semibold text-charcoal">Sleep</div>
                            <div class="text-xs text-gray-400 mt-1 font-medium" x-text="getLastLogTime('sleep')"></div>
                        </button>

                        <!-- Diaper -->
                        <button @click="openTracker('diaper')" class="bg-white p-5 rounded-[28px] shadow-card text-left hover:shadow-md transition-all active:scale-[0.98] border border-gray-50 group">
                            <div class="w-12 h-12 bg-yellow-50 group-hover:bg-yellow-100 rounded-2xl flex items-center justify-center text-yellow-500 mb-3 text-2xl transition-colors">
                                <i class="ph-fill ph-toilet-paper"></i>
                            </div>
                            <div class="font-semibold text-charcoal">Diaper</div>
                            <div class="text-xs text-gray-400 mt-1 font-medium" x-text="getLastLogTime('diaper')"></div>
                        </button>

                        <!-- Pump -->
                        <button @click="openTracker('pump')" class="bg-white p-5 rounded-[28px] shadow-card text-left hover:shadow-md transition-all active:scale-[0.98] border border-gray-50 group">
                            <div class="w-12 h-12 bg-pink-50 group-hover:bg-pink-100 rounded-2xl flex items-center justify-center text-pink-500 mb-3 text-2xl transition-colors">
                                <i class="ph-fill ph-drop"></i>
                            </div>
                            <div class="font-semibold text-charcoal">Pumping</div>
                            <div class="text-xs text-gray-400 mt-1 font-medium" x-text="getLastLogTime('pump')"></div>
                        </button>
                    </div>
                </div>

                <!-- Mini History -->
                <div class="pb-4">
                    <div class="flex justify-between items-center mb-4 ml-1">
                        <h3 class="font-semibold text-gray-800 text-sm tracking-wide">RECENT LOGS</h3>
                        <button @click="view = 'stats'" class="text-xs font-bold text-lavenderDark hover:text-lavender transition-colors">VIEW ALL</button>
                    </div>
                    
                    <div class="space-y-3">
                        <template x-for="log in getRecentLogs()" :key="log.id">
                            <div class="flex items-center justify-between bg-white px-5 py-4 rounded-2xl shadow-sm border border-gray-50">
                                <div class="flex items-center gap-4">
                                    <div class="w-10 h-10 rounded-full flex items-center justify-center text-lg shadow-inner"
                                         :class="{
                                            'bg-blue-50 text-blue-500': log.type === 'feeding',
                                            'bg-indigo-50 text-indigo-500': log.type === 'sleep',
                                            'bg-yellow-50 text-yellow-500': log.type === 'diaper',
                                            'bg-pink-50 text-pink-500': log.type === 'pump'
                                         }">
                                         <i :class="getIcon(log.type)"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm font-bold text-gray-800 capitalize" x-text="log.subtype || log.type"></div>
                                        <div class="text-xs text-gray-400 font-medium" x-text="formatDate(log.date)"></div>
                                    </div>
                                </div>
                                <div class="text-sm font-bold text-gray-600 bg-gray-50 px-3 py-1 rounded-lg" x-text="log.value"></div>
                            </div>
                        </template>
                        <div x-show="logs.length === 0" class="text-center py-8 text-gray-400 text-sm font-medium italic bg-white/50 rounded-2xl border border-dashed border-gray-200">
                            No logs yet. Tap a card above!
                        </div>
                    </div>
                </div>
            </main>

            <!-- STATS VIEW -->
            <main x-show="view === 'stats'" class="flex-1 overflow-y-auto px-6 pb-28 no-scrollbar space-y-6 animate-fade-in bg-cream">
                <header class="pt-4 pb-4 flex items-center gap-4 sticky top-0 bg-cream z-10">
                    <button @click="view = 'home'" class="w-10 h-10 bg-white rounded-full shadow-sm flex items-center justify-center text-charcoal hover:bg-gray-50 transition-colors">
                        <i class="ph-bold ph-arrow-left"></i>
                    </button>
                    <h2 class="font-serif text-2xl text-charcoal">History & Trends</h2>
                </header>

                <!-- Chart Card -->
                <div class="bg-charcoal rounded-[32px] p-6 text-white shadow-xl">
                    <div class="flex justify-between items-end mb-8">
                        <div>
                            <h3 class="text-xs text-gray-400 uppercase tracking-widest font-bold mb-1">Weekly Sleep</h3>
                            <div class="text-3xl font-serif">14h 30m</div>
                        </div>
                        <div class="flex items-center gap-1 text-lavender text-xs font-bold bg-lavender/10 px-2 py-1 rounded-lg border border-lavender/20">
                            <i class="ph-bold ph-arrow-up-right"></i> 2%
                        </div>
                    </div>
                    
                    <div class="flex items-end justify-between gap-3 h-32 px-1">
                        <!-- Chart Bars (Mock) -->
                        <div class="flex flex-col items-center gap-2 w-full group">
                            <div class="w-full bg-gray-700 rounded-lg h-[40%] group-hover:bg-gray-600 transition-all"></div>
                            <span class="text-[10px] text-gray-500 font-mono">M</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 w-full group">
                            <div class="w-full bg-gray-700 rounded-lg h-[60%] group-hover:bg-gray-600 transition-all"></div>
                            <span class="text-[10px] text-gray-500 font-mono">T</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 w-full group">
                            <div class="w-full bg-gray-700 rounded-lg h-[30%] group-hover:bg-gray-600 transition-all"></div>
                            <span class="text-[10px] text-gray-500 font-mono">W</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 w-full group">
                            <div class="w-full bg-lavender rounded-lg h-[80%] relative shadow-[0_0_20px_rgba(165,148,249,0.4)] transition-all"></div>
                            <span class="text-[10px] text-white font-mono font-bold">T</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 w-full group">
                            <div class="w-full bg-gray-700 rounded-lg h-[50%] group-hover:bg-gray-600 transition-all"></div>
                            <span class="text-[10px] text-gray-500 font-mono">F</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 w-full group">
                            <div class="w-full bg-gray-700 rounded-lg h-[45%] group-hover:bg-gray-600 transition-all"></div>
                            <span class="text-[10px] text-gray-500 font-mono">S</span>
                        </div>
                        <div class="flex flex-col items-center gap-2 w-full group">
                            <div class="w-full bg-gray-700 rounded-lg h-[55%] group-hover:bg-gray-600 transition-all"></div>
                            <span class="text-[10px] text-gray-500 font-mono">S</span>
                        </div>
                    </div>
                </div>

                <!-- All Logs List -->
                <div>
                    <h3 class="font-semibold text-gray-800 mb-4 ml-1 text-sm tracking-wide">ALL ACTIVITIES</h3>
                    <template x-for="log in logs.slice().reverse()" :key="log.id">
                        <div class="flex items-center justify-between bg-white p-4 rounded-2xl shadow-sm mb-3 border border-gray-50">
                            <div class="flex items-center gap-4">
                                <div class="w-10 h-10 rounded-full flex items-center justify-center text-lg"
                                     :class="{
                                        'bg-blue-50 text-blue-500': log.type === 'feeding',
                                        'bg-indigo-50 text-indigo-500': log.type === 'sleep',
                                        'bg-yellow-50 text-yellow-500': log.type === 'diaper',
                                        'bg-pink-50 text-pink-500': log.type === 'pump'
                                     }">
                                     <i :class="getIcon(log.type)"></i>
                                </div>
                                <div>
                                    <div class="text-sm font-bold text-gray-700 capitalize" x-text="log.subtype || log.type"></div>
                                    <div class="text-xs text-gray-400 font-medium" x-text="formatDateFull(log.date)"></div>
                                </div>
                            </div>
                            <div class="text-sm font-bold text-gray-600 bg-gray-50 px-2 py-1 rounded" x-text="log.value"></div>
                        </div>
                    </template>
                    <div x-show="logs.length === 0" class="text-center py-10 text-gray-400 text-sm">
                        Start tracking to see your history here.
                    </div>
                </div>
            </main>

            <!-- SETTINGS VIEW (Placeholder) -->
            <main x-show="view === 'settings'" class="flex-1 flex flex-col items-center justify-center p-6 text-center animate-fade-in">
                 <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4 text-3xl">‚öôÔ∏è</div>
                 <h2 class="font-serif text-2xl text-charcoal mb-2">Settings</h2>
                 <p class="text-gray-500 text-sm mb-8">Manage baby profiles, units, and data.</p>
                 <button @click="clearData()" class="px-6 py-3 bg-red-50 text-red-500 rounded-xl font-medium text-sm hover:bg-red-100 transition-colors">
                     Reset All Data
                 </button>
            </main>

            <!-- FLOATING BOTTOM NAV -->
            <div class="absolute bottom-8 left-12 right-12 h-16 bg-charcoal rounded-full shadow-2xl flex items-center justify-between px-8 z-50 text-gray-400">
                <button class="flex flex-col items-center justify-center w-10 h-10 transition-colors" 
                        :class="view === 'home' ? 'text-white scale-110' : 'hover:text-gray-200'" 
                        @click="view = 'home'">
                    <i class="ph-fill ph-house text-2xl"></i>
                </button>
                <div class="w-px h-5 bg-gray-700/50"></div>
                <button class="flex flex-col items-center justify-center w-10 h-10 transition-colors" 
                        :class="view === 'stats' ? 'text-white scale-110' : 'hover:text-gray-200'" 
                        @click="view = 'stats'">
                    <i class="ph-fill ph-chart-bar text-2xl"></i>
                </button>
                <div class="w-px h-5 bg-gray-700/50"></div>
                <button class="flex flex-col items-center justify-center w-10 h-10 transition-colors" 
                        :class="view === 'settings' ? 'text-white scale-110' : 'hover:text-gray-200'" 
                        @click="view = 'settings'">
                    <i class="ph-fill ph-gear text-2xl"></i>
                </button>
            </div>
        </div>

        <!-- ==================== TRACKER MODAL (OVERLAY) ==================== -->
        <div x-show="activeTracker" 
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0 translate-y-full"
             x-transition:enter-end="opacity-100 translate-y-0"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100 translate-y-0"
             x-transition:leave-end="opacity-0 translate-y-full"
             class="absolute inset-0 z-[60] bg-cream flex flex-col">
            
            <!-- Nav -->
            <div class="px-6 py-4 flex items-center justify-between mt-2">
                <button @click="closeTracker()" class="w-10 h-10 bg-white border border-gray-100 rounded-full shadow-sm flex items-center justify-center text-charcoal hover:bg-gray-50">
                    <i class="ph-bold ph-arrow-left"></i>
                </button>
                <h2 class="font-serif text-xl capitalize text-charcoal" x-text="activeTracker"></h2>
                <div class="w-10"></div>
            </div>

            <div class="flex-1 flex flex-col items-center justify-center p-8 space-y-10">
                
                <!-- Timer Display -->
                <template x-if="['feeding', 'sleep', 'pump'].includes(activeTracker)">
                    <div class="text-center relative">
                        <!-- Decorative ring -->
                        <div class="absolute inset-0 -m-8 border-4 border-gray-100 rounded-full" x-show="timerRunning"></div>
                        <div class="absolute inset-0 -m-8 border-4 border-t-lavender border-r-lavender border-b-transparent border-l-transparent rounded-full animate-spin" x-show="timerRunning"></div>
                        
                        <div class="font-variant-numeric tabular-nums text-7xl font-medium text-charcoal tracking-tighter mb-2 font-sans relative z-10" x-text="formatTimer(timerSeconds)"></div>
                        <p class="text-gray-400 text-xs font-bold tracking-[0.2em] uppercase">Duration</p>
                    </div>
                </template>

                <!-- Feeding Controls -->
                <template x-if="activeTracker === 'feeding'">
                    <div class="w-full space-y-6">
                        <div class="flex bg-white p-1.5 rounded-2xl shadow-inner-light border border-gray-100">
                            <button @click="feedSide = 'Left'" :class="{'bg-lavender text-white shadow-md': feedSide === 'Left', 'text-gray-400 hover:text-gray-600': feedSide !== 'Left'}" class="flex-1 py-3.5 rounded-xl font-semibold transition-all text-sm">Left</button>
                            <button @click="feedSide = 'Bottle'" :class="{'bg-blue-400 text-white shadow-md': feedSide === 'Bottle', 'text-gray-400 hover:text-gray-600': feedSide !== 'Bottle'}" class="flex-1 py-3.5 rounded-xl font-semibold transition-all text-sm">Bottle</button>
                            <button @click="feedSide = 'Right'" :class="{'bg-lavender text-white shadow-md': feedSide === 'Right', 'text-gray-400 hover:text-gray-600': feedSide !== 'Right'}" class="flex-1 py-3.5 rounded-xl font-semibold transition-all text-sm">Right</button>
                        </div>
                    </div>
                </template>

                <!-- Diaper Controls -->
                <template x-if="activeTracker === 'diaper'">
                    <div class="grid grid-cols-2 gap-4 w-full">
                        <button @click="diaperType = 'wet'" 
                                :class="diaperType === 'wet' ? 'ring-2 ring-blue-400 bg-blue-50 scale-[1.02]' : 'bg-white hover:bg-gray-50'"
                                class="p-8 rounded-[32px] shadow-card flex flex-col items-center justify-center gap-4 transition-all duration-300 border border-transparent">
                            <i class="ph-fill ph-drop text-4xl text-blue-400"></i>
                            <span class="font-bold text-gray-600">Wet</span>
                        </button>
                        <button @click="diaperType = 'dirty'" 
                                :class="diaperType === 'dirty' ? 'ring-2 ring-yellow-500 bg-yellow-50 scale-[1.02]' : 'bg-white hover:bg-gray-50'"
                                class="p-8 rounded-[32px] shadow-card flex flex-col items-center justify-center gap-4 transition-all duration-300 border border-transparent">
                            <i class="ph-fill ph-toilet-paper text-4xl text-yellow-500"></i>
                            <span class="font-bold text-gray-600">Dirty</span>
                        </button>
                    </div>
                </template>

                <!-- Timer Buttons -->
                <template x-if="['feeding', 'sleep', 'pump'].includes(activeTracker)">
                    <div class="flex items-center gap-8">
                        <button @click="resetTimer()" class="w-16 h-16 rounded-full bg-gray-100 text-gray-400 hover:text-charcoal hover:bg-gray-200 flex items-center justify-center text-2xl transition-all">
                            <i class="ph-bold ph-arrow-counter-clockwise"></i>
                        </button>
                        <button @click="toggleTimer()" 
                                class="w-24 h-24 rounded-full flex items-center justify-center text-4xl shadow-2xl transition-all active:scale-95 hover:shadow-xl"
                                :class="timerRunning ? 'bg-white text-red-500 border-2 border-red-100' : 'bg-charcoal text-white'">
                            <i :class="timerRunning ? 'ph-fill ph-pause' : 'ph-fill ph-play ml-1'"></i>
                        </button>
                    </div>
                </template>

                <div class="mt-auto w-full pb-4">
                    <button @click="saveLog()" class="w-full bg-lavenderDark text-white text-lg py-4 rounded-[20px] font-semibold shadow-xl shadow-lavender/30 hover:bg-lavender transition-all active:scale-[0.98]">
                        Save Entry
                    </button>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
